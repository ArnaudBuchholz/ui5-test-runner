<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://ArnaudBuchholz.github.io/ui5-test-runner/browser/ rel=canonical><link href=../demo/ rel=prev><link href=../puppeteer/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.0"><title>Browser instantiation command - UI5 Test Runner</title><link rel=stylesheet href=../assets/stylesheets/main.618322db.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ab4e12ef.min.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#browser-instantiation-command class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="UI5 Test Runner" class="md-header__button md-logo" aria-label="UI5 Test Runner" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> UI5 Test Runner </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Browser instantiation command </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ArnaudBuchholz/ui5-test-runner title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> ArnaudBuchholz/ui5-test-runner </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="UI5 Test Runner" class="md-nav__button md-logo" aria-label="UI5 Test Runner" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> UI5 Test Runner </label> <div class=md-nav__source> <a href=https://github.com/ArnaudBuchholz/ui5-test-runner title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> ArnaudBuchholz/ui5-test-runner </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../usage/ class=md-nav__link> <span class=md-ellipsis> Command line usage </span> </a> </li> <li class=md-nav__item> <a href=../testing/ class=md-nav__link> <span class=md-ellipsis> Testing a "remote" application </span> </a> </li> <li class=md-nav__item> <a href=../coverage/ class=md-nav__link> <span class=md-ellipsis> Coverage extraction </span> </a> </li> <li class=md-nav__item> <a href=../legacy/ class=md-nav__link> <span class=md-ellipsis> Serving and testing the application (a.k.a. legacy mode) </span> </a> </li> <li class=md-nav__item> <a href=../batch/ class=md-nav__link> <span class=md-ellipsis> üÜï5.5.0 Batch mode </span> </a> </li> <li class=md-nav__item> <a href=../configuration/ class=md-nav__link> <span class=md-ellipsis> Configuration file </span> </a> </li> <li class=md-nav__item> <a href=../warnings/ class=md-nav__link> <span class=md-ellipsis> ‚ö†Ô∏è Warnings </span> </a> </li> <li class=md-nav__item> <a href=../tipsNtricks/ class=md-nav__link> <span class=md-ellipsis> Tips & tricks </span> </a> </li> <li class=md-nav__item> <a href=../demo/ class=md-nav__link> <span class=md-ellipsis> How to demo </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Browser instantiation command </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Browser instantiation command </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#probing class=md-nav__link> <span class=md-ellipsis> Probing </span> </a> </li> <li class=md-nav__item> <a href=#executing class=md-nav__link> <span class=md-ellipsis> Executing </span> </a> </li> <li class=md-nav__item> <a href=#screenshot class=md-nav__link> <span class=md-ellipsis> Screenshot </span> </a> </li> <li class=md-nav__item> <a href=#stopping class=md-nav__link> <span class=md-ellipsis> Stopping </span> </a> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12> <label class=md-nav__link for=__nav_12 id=__nav_12_label tabindex=0> <span class=md-ellipsis> Automation Libraries </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_12_label aria-expanded=false> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Automation Libraries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../puppeteer/ class=md-nav__link> <span class=md-ellipsis> puppeteer </span> </a> </li> <li class=md-nav__item> <a href=../jsdom/ class=md-nav__link> <span class=md-ellipsis> jsdom </span> </a> </li> <li class=md-nav__item> <a href=../playwright/ class=md-nav__link> <span class=md-ellipsis> playwright </span> </a> </li> <li class=md-nav__item> <a href=../selenium-webdriver/ class=md-nav__link> <span class=md-ellipsis> selenium-webdriver </span> </a> </li> <li class=md-nav__item> <a href=../webdriverio/ class=md-nav__link> <span class=md-ellipsis> webdriver.io </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../mapping_v1_v2/ class=md-nav__link> <span class=md-ellipsis> Mapping v1 settings to v2 </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#overview class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=#probing class=md-nav__link> <span class=md-ellipsis> Probing </span> </a> </li> <li class=md-nav__item> <a href=#executing class=md-nav__link> <span class=md-ellipsis> Executing </span> </a> </li> <li class=md-nav__item> <a href=#screenshot class=md-nav__link> <span class=md-ellipsis> Screenshot </span> </a> </li> <li class=md-nav__item> <a href=#stopping class=md-nav__link> <span class=md-ellipsis> Stopping </span> </a> </li> <li class=md-nav__item> <a href=#testing class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=browser-instantiation-command>Browser instantiation command<a class=headerlink href=#browser-instantiation-command title="Permanent link">&para;</a></h1> <h2 id=overview>Overview<a class=headerlink href=#overview title="Permanent link">&para;</a></h2> <p><code>ui5-test-runner</code> can integrate <strong>different browsers</strong> to run the tests. In particular, it is delivered with the following implementations :</p> <ul> <li><a href=../puppeteer/ >puppeteer</a> <em>(chrome)</em></li> <li><a href=../playwright/ >playwright</a><ul> <li>chromium</li> <li>firefox</li> <li>webkit</li> </ul> </li> <li><a href=../selenium-webdriver/ >selenium-webdriver</a><ul> <li>chrome</li> <li>firefox</li> <li>edge</li> </ul> </li> <li><a href=../jsdom/ >jsdom</a> <em>experimental</em></li> </ul> <p>The integration consists of a browser instantiation process that is <a href=https://nodejs.org/api/child_process.html#child_processforkmodulepath-args-options>forked</a> from <code>ui5-test-runner</code>, allowing the runner to capture the output and to do <a href=https://nodejs.org/api/process.html#processsendmessage-sendhandle-options-callback>in-process communication</a>.</p> <h2 id=probing>Probing<a class=headerlink href=#probing title="Permanent link">&para;</a></h2> <p>Before executing the tests, the runner <strong>queries</strong> the browser instantiation command to <strong>probe its capabilities</strong>.</p> <p>A JSON file is generated and its <strong>absolute</strong> path is submitted to the command as its only parameter.</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=p>{</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=w>  </span><span class=nt>&quot;capabilities&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;~/report/probe/capabilities.json&quot;</span><span class=p>,</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=w>  </span><span class=nt>&quot;url&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;about:blank&quot;</span><span class=p>,</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=w>  </span><span class=nt>&quot;dir&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;~/report/probe&quot;</span><span class=p>,</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=w>  </span><span class=nt>&quot;args&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[]</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>Probing request JSON file</p> </blockquote> <p>The probing request file is composed of the following properties :</p> <ul> <li><code>capabilities</code> : path to a result file the command must generate.</li> <li><code>url</code> : <code>"about:blank"</code></li> <li><code>dir</code> : the working folder allocated for the command.</li> <li><code>args</code> : the list of browser arguments specified when running <code>ui5-test-runner</code>.</li> </ul> <p>When <code>capabilities</code> contains a string, the command <strong>must</strong> generate an answer JSON file in the given path. This file contains the list of capabilities of the browser.</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=p>{</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>  </span><span class=nt>&quot;modules&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span><span class=s2>&quot;puppeteer&quot;</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>  </span><span class=nt>&quot;screenshot&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;.png&quot;</span><span class=p>,</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>  </span><span class=nt>&quot;scripts&quot;</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=p>,</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=w>  </span><span class=nt>&quot;traces&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=s2>&quot;console&quot;</span><span class=p>,</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>    </span><span class=s2>&quot;network&quot;</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>  </span><span class=p>]</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>Capabilities answer JSON file</p> </blockquote> <p>The following members are considered :</p> <ul> <li><code>modules</code> : the list of NPM modules the command depends on, defaulted to <code>[]</code>. When modules are specified, the runner is responsible of <strong>finding</strong> the dependencies or <strong>installing</strong> them, when needed.</li> <li><code>parallel</code> : if the command supports parallel execution, defaulted to <code>true</code>.</li> <li><code>screenshot</code> : if the command supports screenshot, it contains the extension of the generated files, defaulted to <code>null</code> <em>(screenshots are not supported)</em>.</li> <li><code>scripts</code> : if the command supports script injection <em>before</em> loading the page, defaulted to <code>false</code>.</li> <li><code>traces</code> : a list of keys representing the additional traces captured by the browser.</li> </ul> <p><strong>NOTE</strong> : the command might request another probe with the dependent modules being resolved, this is done by returning the member <code>probe-with-modules</code> set to <code>true</code>.</p> <h2 id=executing>Executing<a class=headerlink href=#executing title="Permanent link">&para;</a></h2> <p>Once the capabilities are known, the command is executed to run the tests. A different request file is used :</p> <div class="language-json highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=p>{</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=w>  </span><span class=nt>&quot;capabilities&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>  </span><span class=nt>&quot;modules&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span><span class=nt>&quot;puppeteer&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;~/node_modules/puppeteer&quot;</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=w>  </span><span class=p>},</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>  </span><span class=nt>&quot;url&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;https://ui5.sap.com/test-resources/sap/m/demokit/orderbrowser/webapp/test/testsuite.qunit.html&quot;</span><span class=p>,</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>  </span><span class=nt>&quot;retry&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>  </span><span class=nt>&quot;scripts&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=w>    </span><span class=s2>&quot;(function () { window[&#39;ui5-test-runner/base-host&#39;] = &#39;http://localhost:8081&#39; }())&quot;</span><span class=p>,</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=w>    </span><span class=s2>&quot;...&quot;</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=w>  </span><span class=p>],</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=w>  </span><span class=nt>&quot;dir&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;~/report/4_hRtpsQ_mU&quot;</span><span class=p>,</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=w>  </span><span class=nt>&quot;args&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[]</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=p>}</span>
</span></code></pre></div> <blockquote> <p>Execution request JSON file</p> </blockquote> <p>The execution request file is composed of the following properties :</p> <ul> <li><code>capabilities</code> : the result of the probe operation. It can be used to store information that is available for execution.</li> <li><code>modules</code> : if the probe returned a list of modules, <code>ui5-test-runner</code> will ensure to find them either locally or globally. When not found, the runner installs the dependencies globally. Once all the dependencies are resolved, their respective path are given in this object (key is the module name, value is the path).</li> <li><code>url</code> : url of the test page to run.</li> <li><code>retry</code> : if the command <em>(not the tests)</em> failed for any reason, <code>ui5-test-runner</code> may try to execute again the same page. The retry count indicates the attempt count. You may use this information to secure the code when retry is not <code>0</code>.</li> <li><code>scripts</code> : the list of scripts to be injected before executing the page.</li> <li><code>dir</code>: the working folder allocated for the command.</li> <li><code>args</code>: the list of browser arguments specified when running <code>ui5-test-runner</code>.</li> </ul> <p>The command is <strong>expected to instantiate the browser</strong> and open the given url (after evaluating the scripts if any).</p> <h2 id=screenshot>Screenshot<a class=headerlink href=#screenshot title="Permanent link">&para;</a></h2> <p>During the tests execution, the runner may request the command to take a screenshot. This is done by exchanging in-process messages.</p> <p>The command <strong>must</strong> listen on the <code>'message'</code> event <em>(using <code>process.on</code>)</em> and check the <code>command</code> received on the property object. If the <code>command</code> is <code>screenshot</code>, the received object also contains a <code>filename</code> member to indicate to which path the screenshot must be generated.</p> <p>Once the screenshot is generated, the command must send back the <em>same</em> message (<code>process.send</code>).</p> <h2 id=stopping>Stopping<a class=headerlink href=#stopping title="Permanent link">&para;</a></h2> <p>Once the tests are finished, or when the runner decides to stop the execution, an in-process message is sent to terminate the command.</p> <p>The command must listen on the <code>'message'</code> event <em>(using <code>process.on</code>)</em> and check the <code>command</code> property on the received object. If the <code>command</code> is <code>stop</code>, the command must terminate properly. The runner waits for some time (see <code>--browser-close-timeout</code>) before <strong>killing</strong> the command if still running.</p> <p>It is <strong>mandatory</strong> to ensure that the child process explicitly exits at some point <em>(see this <a href=https://github.com/nodejs/node-v0.x-archive/issues/2605>thread</a> explaining the fork behavior with Node.js)</em>.</p> <h2 id=testing>Testing<a class=headerlink href=#testing title="Permanent link">&para;</a></h2> <p>To simplify the development of browser instantiation commands and / or check their compliance to the expectations, <code>ui5-test-runner</code> provides the <code>--capabilities</code> option to runs a battery of tests.</p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["navigation.expand", "content.code.copy"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.e71a0d61.min.js></script> </body> </html>